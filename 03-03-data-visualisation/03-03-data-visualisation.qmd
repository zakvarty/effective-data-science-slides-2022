---
title: "Effective Data Visualisation"
subtitle: "Data Exploration and Visualisation"
author: Dr Zak Varty
date: ""
editor: source
format:
  revealjs:
    theme: ../eds-slides-theme.scss #(default / dark / simple)
    logo: assets/EDS-logo.jpg
    bibliography: ../refs.bib
    footer: "Effective Data Science: EDAV - Visualisation - Zak Varty"
    menu: true
    slide-number: true
    show-slide-number: all # (all / print / speaker)
    self-contained: true # (set to true before publishing html to web)
    chalkboard: false # (conflicts with self-contained)
      #src: drawings.json
      #theme: whiteboard
      #read-only: true
      #buttons: false
    width: 1600 # default is 1050
    height: 900 # default is 850
    incremental: false
---

## More Than A Pretty Picture

<br>

::::{.columns}
:::{.column width="60%"}

Visualisation is a key skill in your data science tool kit:

- Rapidly explore data sets 

- Model evaluation and diagnostics 

- Sharing evidence 

- Telling compelling stories. 

_Reflective exercise, not a tutorial or rulebook._
:::
:::{.column width="5%"}
:::
:::{.column width="35%"}
![Warming stripes graphic on the cover of "The Climate Book"](images/the-climate-book-jacket.jpg)
:::
::::

:::{.notes}
Data visualisation is an integral part of your work as a data scientist. 

You'll use visualisations to rapidly explore new data sets, to understand their structure and to establish which types of model might be suitable for the task at hand. Visualisation is also vital during model evaluation and when check the validity of the assumptions on which that model is based. These are relatively technical uses of visualisation, but graphics have a much broader role within your work of an effective data scientist. 

When well designed, plots, tables and animations can tell compelling stories that were once trapped within your data. They can also intuitively communicate the strength of evidence for your findings and draw attention to the most salient parts your argument.

Data visualisation is an amalgamation of science, statistics, graphic design and storytelling. It's multi-disciplinary nature means that we have to draw on all of our skills to ensure success. While there are certainly many ways to go wrong when visualising data, there are many more ways to get it right. 

This video won't be a a step-by-step tutorial of how to visualise any type of data - that is simply not possible. Nor will it be a line-up of visualisations gone wrong. Instead, I hope to pose some questions that'll get you thinking critically about exactly what you want from each graphic that you produce.
:::

<!-- ----------------------------------------------------------------------- -->
# 1: Think About Your Tools {{< fa hammer >}}
<!-- ----------------------------------------------------------------------- -->
:::{.notes}
There are five things that you should think about when producing any sort of data visualistion. We will consider each of these in turn, starting with the tools that you use to produce the visualisation.
:::

## Data visualisation tools {.smaller}

![Coffee consumption, visualised. Jaime Serra Palou.](images/coffee-2.png)

:::{.notes}
When you think of data visualisation, you might immediately think of impressive animations or complex, interactive dashboards that allow users to explore relationships within the data for themselves. 

Such tools are no doubt impressive but they are by no means necessary for an effective data visualisation. In many cases there is no technology is needed at all. The history of data visualisation vastly pre-dates that of computers and some of the most effective visualisations remain analogue creations. 

This visualisation of a year's coffee consumption is an ideal example. Displaying the number of cups of coffee in a bar chart or line graph would have been a more accurate way to collect and display this data, but that wouldn't have the same resonance or impact and it certainly wouldn't have been as memorable. 
:::

## Selecting your tools: Analogue or Digital {.smaller}

![Caffeination vs sleep, shown in lego. Elsie Lee-Robbins](images/lego-coffee.jpg) 


:::{.notes}
Example visualisation tools: 

__Physical__ 
- pen and paper
- physical objects like loge
- connect-four donation counters in big transparent containers

Here we have another example of an analogue data visualisation that is created as part of data collection. Each member of the department is invited to place a Lego brick on a grid to indicate how much caffeine they have consumed and how much sleep they have had. The beauty of using Lego bricks here is that they are stackable and so create a bar plot over two dimensions. 

A third example can be found next to the tills in many supermarkets. Each customer is given a token as they pay for their goods. They can then drop this token into one of three large perspex containers as they leave the shop, each representing a different charity. At the end of the month Â£10,000 is split between the charities in proportion to the number of tokens. Because the containers are made from a transparent material you can see how the tokens are distributed, giving a visualisation of the level of support for each of the charities.

There are many other way of constructing a physical, analogue visualisation of your data and this doesn't need to be done as part of the data collection process. The simplest and Perhaps most obvious most obvious is to create a plot of tabular data using a pen and paper. 

__Digital__
When it comes to digital tools for data visualisation you have a plethora of options. The most similar to pen-and-paper plotting is to draw your visualisations using a Photoshop, or an open source equivalent like Inkscape. The benefit here is that if you mispace a line or dot you can correct this small error without having to start all over again. 

There are then more data-focused tools that have point-and-click interfaces. These are things like Excel's chart tools, or specialist visualisation software like Tableau. These are great because they scale with the quantity of data, so that you can plot larger amounts of raw data values that you wouldn't have the time or patience to do by hand - whether that's in an analogue or digital format. 

Analogue and point-and-click approaches to visualisation have the shared limitation of not being reproducible, at least not without extensive documentation explaining how the graphic was created. 

Using code to create your visualisations can resolve this reproducibility issue, and includes visualisation as a part of your larger, reproducible workflow for data science. Scripted visualisations also scale easily to large data sets and are easy to alter if any changes are required. The downside here is that there is a relatively steep learning curve to creating such visualisations, which is exactly what point-and-click methods are trying to avoid.

No matter how you produce your visualisations, the time cost of developing your skills in that medium is what buys you the ability to control and customise what you create. This upfront time investment will also often make you faster at producing future graphics in that medium.  

Whenever you approach a new visualisation problem, you should pick your tools and medium judiciously. You have to balance your immediate needs for speed, accuracy and reproducibility against your current skill level and improving those skills in the medium to long term. Unfortunately, the only way to make good visualisations is to make lots of bad ones and even more mediocre ones first.  
:::

## Staying in the tidyverse: `{ggplot2}`

::::{.columns}
:::{.column width="40%"}

<br>

Layered creation of graphics from tidy data. 
 
Learning `{ggplot2}`:

- [Resources](https://ggplot2.tidyverse.org/#learning-ggplot2)
- [Tutorial](https://www.cedricscherer.com/2019/08/05/a-ggplot2-tutorial-for-beautiful-plotting-in-r/) 
- [Tidy Tuesday Github](https://github.com/search?p=1&q=tidy+tuesday&type=Repositories)
  
:::
:::{.column width="60%"}

<br>

![](images/grammar-of-graphics-abstract.png)
:::
::::

:::{.notes}
If your aim is to produce a wide range of high quality data visualisation using R, then the {ggplot2} package is one of the most versatile and well documented tools available to you. 

The g's at the start of the package name stand for grammar of graphics. This is an opinionated, abstract approach to constructing data visualisations programmatically, by building them up slowly and adding additional plot elements one layer at a time. 

This idea of a  "grammar of Graphics" was originally introduced by Leland Wilkinson. The paper shown by Hadley Wickham, and the associated `{ggplot2}` package popularised this approach within the R community. Like many of the tidyverse collection of packages, `{ggplot2}` provides simple but specialised modular functions that can be composed to create complex visualisations.  

If you'd like to learn how to use `{ggplot2}`, I wouldn't recommend starting with the paper nor would I recommend trying to get started with the docs alone. Instead, I would suggest you work through an introductory tutorial, or one of the resources linked within the package documentation. Once you have a grasp of the basic principles the best way to improve is to try making your own plots, using reference texts and other people's work as a guide. A great source of inspiration here is the TidyTuesday data visualisation challenge. You can search for the challenge on Github to inspect both the plots made by other people and the code that was used to make them. 
:::

<!-- ----------------------------------------------------------------------- -->
# 2: Think About Your Medium {{< fa person-chalkboard >}}
<!-- ----------------------------------------------------------------------- -->
:::{.notes}
:::

## Where will your plot go?  

::::{.columns}
:::{.column width="50%"}
<br>

_Use cases:_ exploratory analysis, presentation, report / paper, data journalism.

<br>
_Considerations:_ 

- Time investment vs quality
- Image size / format
- Time spent with graphic
:::
:::{.column width="50%"}
![](images/visualisation-purposes.png)
:::
::::

:::{.notes}
:::

## File types

::::{.columns}
:::{.column width="50%"}

<br>

_Bitmap Graphics:_ png, jpeg, gif

  - made of pixels
  - smaller file size
  
_Vector Graphics:_ pdf, eps, svg

  - made of vectors
  - larger file size

:::
:::{.column width="50%"}
![](images/dalle-pixellated-image.png)
:::
::::

:::{.notes}
::: 

<!-- ----------------------------------------------------------------------- -->
# 3: Think About Your Audience {{< fa people-group >}}
<!-- ----------------------------------------------------------------------- -->
:::{.notes}
:::

##  Know your audience

::::{.columns}
:::{.column width="50%"}
![](images/user-groups.png)
:::
:::{.column width="50%"}
Who is the intended audience for your visualisation? 

What knowledge do they bring with them? 

What assumptions and biases do they hold?

<br>

Creating _personas_ for distinct user groups can be helpful.
:::
::::

:::{.notes}
:::

## Preattentive Attributes {.smaller}

```{r fig.align='center'}
knitr::include_graphics("images/preattentive-attributes.png")
```
<!--<img src="images/pre-attentive-attributes.png" height="10%">-->
<!--![](images/pre-attentive-attributes.png)-->
:::{.notes}
:::

## First impressions count {.smaller}


![Issues with scales, area and perspective](images/average-male-height.jpg)


:::{.notes}
:::

## Visual perception {.smaller}

::::{.columns}
:::{.column width="50%"}
<br>
![Default colour scales](images/saturated-colour-scales.png)
:::
:::{.column width="50%"}
<br>
![Desaturated colour scales](images/desaturated-colour-scales.png)
:::
::::

:::{.notes}
:::

## Alt text, titles and captions

:::{.callout-note icon=false}
### Captions
Describes a figure or table so that it may be identified in a list of figures and (where appropriate).
:::

:::{.callout-note icon=false}
### Alternative text
Describes the content of an image for a person who cannot view it. ([Guide to writing alt-text](https://myaccessible.website/infographic/images/images-accessibility-alt-text ))
:::

:::{.callout-note icon=false}
### Titles
Give additional context or identify key findings. Active titles are preferable.

<s>Graph to show how X varies with Y</s> 
:::


:::{.notes}
__Captions__ 
Captions are short descriptions of a visualisation, usually displayed directly above or below the figure or table that it describes. Captions serve two purposes: in a report, the caption can be used to look up the visualisation from a list of figures or tables. The second purpose of a caption is to add additional detail that you don't want to add to the plot directly. For example "Time series of GDP in the United States of America, 2017-2022. Lines show daily (solid), monthly (dashed) and five-year (dotted) mean values."

__Alt-text__ 
Alt text or alternative text is used to describe the content of an image to a person who can't view it. This text is helpful for people with a visual impairment, particularly those who uses a screen reader. Screen reading software reads digital text out loud but can't interpret images. Such software replaces the image with the provided alternative text. Alt text is also valuable in cases when the image can't be found or loaded, for example because of an incorrect file path or a slow internet connection.

The purpose of alt-text is different from a caption. It's designed as a replacement for the image, not just a shorthand or to provide additional information. If there is an important trend or conclusion to be drawn from the visualisation (that is not already mentioned in the main text) this should be identified in the alt-text. This sort of interpretation is a key aspect of alt-text that shouldn't be included in a caption. 

__Titles__ 
Titles give additional context that is not conveyed by the axis labels or chart annotations. Alternatively the title can be used like a newspaper headline to deliver the key findings of the visualisation. One example of this might be when looking at a visualisation that is composed of many smaller plots, each showing the GDP for a US state over the last five years. Title for each smaller plot would identify the state it is describing, while the overall title might be something like "All US states have increased GDP in the period 2017-2022".

If you are including this type of interpretive title, make sure that the same interpretation is clear in the alt-text.  
:::

<!-- ----------------------------------------------------------------------- -->
# 4: Think About Your Story {{< fa book-open >}}
<!-- ----------------------------------------------------------------------- -->
:::{.notes}
:::

## Data visualisation as storytelling 

::::{.columns}
:::{.column width="50%"}
![](images/entertain-persuade-inform.png)
:::
:::{.column width="50%"}
<br>

- Where does your purpose fall on this triangle? 

<br>

- No such thing as neutral presentation. 

<br>

- Start with a hook.
:::
::::
:::{.notes}
:::

<!-- ----------------------------------------------------------------------- -->
# 5: Think About Your Guidelines {{< fa pen-to-square >}}
<!-- ----------------------------------------------------------------------- -->

## Standardise and document it 

<br>

Decisions cost time, energy and money. (DRY)

<br>

Consider your design choices carefully and write down your decisions and reasoning. (DRY)

<br>

This will form the basis of your own _style-guide for data visualisation_. 

:::{.notes}
:::

## Style guides for data visualisation 

::::{.columns}
:::{.column width="50%"}

<br>

- BBC 
  - [Infographics Guidelines](https://www.bbc.co.uk/gel/features/how-to-design-infographics )
  - [R Cookbook](https://bbc.github.io/rcookbook/)
  - [`{bbplot}`](https://github.com/bbc/bbplot)
  
- [The Economist](https://design-system.economist.com/documents/CHARTstyleguide_20170505.pdf) 
:::
:::{.column width="50%"}

<br>

- [The Office for National Statistics](https://style.ons.gov.uk/category/data-visualisation/)

- [Eurostat](https://ec.europa.eu/eurostat/web/products-eurostat-news/-/STYLE-GUIDE_2016)

- [Urban Institute](https://urbaninstitute.github.io/graphics-styleguide/)

- [The Pudding](https://pudding.cool/resources/) (learning resources)
:::
::::

:::{.notes}
:::

## Wrapping Up 

<br>

{{< fa hammer >}} Think about your _tools_

{{< fa person-chalkboard >}} Think about your _medium_

{{< fa people-group >}} Think about your _audience_

{{< fa book-open >}} Think about your _story_

{{< fa pen-to-square >}} Think about your _guidelines_

:::{.notes}
Wrapping up then. 
Thank you very much for your attention, and I'll see you in the next video.
:::

## Image Credits 

* The Climate Book - [Penguin](https://www.penguin.co.uk/books/446610/the-climate-book-by-thunberg-greta/9780241547472) 

* Coffee Cup -  [Jaime Serra Palou](https://www.domestika.org/pt/projects/417262-cafe-diario)

* Lego coffee - [Elsie Lee-Robbins](https://mobile.twitter.com/elsieleerobbins/status/1603486802144288771) via Twitter

<!--(alt text:  A data visualization/physicalization of a scatter plot made out of colourful legos. The y axis is "How much sleep did you get last night?" and the x axis is "How caffeinated are you?" There doesn't seem to be a correlation, points are all over the scatter plot, but the biggest stack is in the bottom left hand corner of "not enough sleep" and "no caffeine")-->

* Pre-attentive attributes - Adapted from [Better Data Visualizations](http://cup.columbia.edu/book/better-data-visualizations/9780231193115)

<!--* Female Heights - [tumblr/badvisualisations via twitter](https://www.tumblr.com/badvisualisations/184828044636/1-as-a-rule-the-y-axis-of-a-bar-graph-needs-to) -->

* Male Heights - [patient.info](https://patient.info/news-and-features/whats-the-average-height-for-men)

* Desaturated colour scales - `{viridis}` [documentation](https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html)
